<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- favicon  -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon_io/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Tokyo+Zoo&display=swap" rel="stylesheet">

    <!-- style sheet  -->
    <link rel="stylesheet" href="style.css">

    <title>TIC TAC TOE</title>
</head>

<body>
    <header>
        <br>
        <h1 style="text-align: center;">TIC TAC TOE</h1>
        <nav>
        </nav>
    </header>
    <body>
        <div id="confirm">
            <div class="message">This is a warning message.</div>
            <button class="yes">Close</button>
        </div>
        <audio src="assets/sound/sound1.wav" id="click1"></audio>
        <audio src="assets/sound/sound2.wav" id="click2"></audio>
        <audio src="assets/sound/sound3.wav" id="click3"></audio>
        <audio src="assets/sound/playagain.wav" id="click4"></audio>
        <audio src="assets/sound/error.wav" id="click5"></audio>
        <section id="section1">
            <div class="sec-info">
                <div class="info">
                    <h2>Enter Players name:</h2>
                    <br><br>
                    <span id="pl1">Player1 [X]:</span> <input type="text" id="name1">
                    <br><br>
                    <span id="pl2">Player2 [O]:</span> <input type="text" id="name2">
                </div>
                <div class="start">
                    <input type="button" value="Start Game" class="start-btn" id="start-btn" onClick="gamestrt()" />
                </div>
            </div>
        </section>
        <section id="section2">
            <div class="col1">
                <h1>Tic Tac Toe</h1>
                <div class="board">
                    <div class="row">
                        <button class="btn" id="btn1" onclick="played('btn1')">-</button>
                        <button class="btn" id="btn2" onclick="played('btn2')">-</button>
                        <button class="btn" id="btn3" onclick="played('btn3')">-</button>
                    </div>
                    <div class="row">
                        <button class="btn" id="btn4" onclick="played('btn4')">-</button>
                        <button class="btn" id="btn5" onclick="played('btn5')">-</button>
                        <button class="btn" id="btn6" onclick="played('btn6')">-</button>
                    </div>
                    <div class="row">
                        <button class="btn" id="btn7" onclick="played('btn7')">-</button>
                        <button class="btn" id="btn8" onclick="played('btn8')">-</button>
                        <button class="btn" id="btn9" onclick="played('btn9')">-</button>
                    </div>
                </div>
                <div class="playagain">
                    <input type="button" value="Play Again" class="play-again-btn" id="play-again-btn" onClick="playagain()" />
                </div>
            </div>
            <div class="col2" id="score_board">
                <h1 style="text-decoration: underline;">Info:</h1>
                <br>
                <span id="pl1">Player 1: <p id="enter1"></p>
                    <br>
                    <p id="turn"></p>
                </span>
                <span id="pl2">Player 2: <p id="enter2"></p> </span>
            </div>
        </section>
        <footer>
            <div class="credits">
                <!-- <span style="color: aliceblue;">Any Suggestion:</span> -->
                <a href="https://linktr.ee/altyon" target="_blank">
                    altyon</a>
            </div>
        </footer>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>
            var sound1 = document.getElementById("click1");
            var sound2 = document.getElementById("click2");
            var sound3 = document.getElementById("click3");
            var sound4 = document.getElementById("click4");
            var sound5 = document.getElementById("click5");
            document.getElementById('play-again-btn').disabled = true;
            var pl1_name;
            var pl2_name;
            function gamestrt() {
                sound1.play();
                document.getElementById('section2').scrollIntoView();
                pl1_name = document.getElementById("name1").value;
                pl2_name = document.getElementById("name2").value;
                document.getElementById('enter1').innerHTML = "(" + pl1_name + ")";
                document.getElementById('enter2').innerHTML = "(" + pl2_name + ")";
                document.getElementById('turn').innerHTML = pl1_name + " its your turn";
            }
            let flag = 0;
            function win() {
                sound3.play();
                document.getElementById('play-again-btn').disabled = false;
                document.getElementById('btn1').disabled = true;
                document.getElementById('btn2').disabled = true;
                document.getElementById('btn3').disabled = true;
                document.getElementById('btn4').disabled = true;
                document.getElementById('btn5').disabled = true;
                document.getElementById('btn6').disabled = true;
                document.getElementById('btn7').disabled = true;
                document.getElementById('btn8').disabled = true;
                document.getElementById('btn9').disabled = true;
            }
            //when a player click
            function played(idn) {
                sound2.play();
                var x = document.getElementById(idn);
                if (flag == 0) {
                    x.innerHTML = "X";
                    flag = 1;
                    document.getElementById('turn').innerHTML = pl2_name + " its your turn";
                }
                else {
                    x.innerHTML = "O";
                    flag = 0;
                    document.getElementById('turn').innerHTML = pl1_name + " now your turn";
                }
                x.disabled = true;
                check();
            }
            //check
            function check() {
                b1 = document.getElementById('btn1').innerHTML;
                b2 = document.getElementById('btn2').innerHTML;
                b3 = document.getElementById('btn3').innerHTML;
                b4 = document.getElementById('btn4').innerHTML;
                b5 = document.getElementById('btn5').innerHTML;
                b6 = document.getElementById('btn6').innerHTML;
                b7 = document.getElementById('btn7').innerHTML;
                b8 = document.getElementById('btn8').innerHTML;
                b9 = document.getElementById('btn9').innerHTML;
                var x;
                //to check draw
                if (b1 != '-' && b2 != '-' && b3 != '-' && b4 != '-' && b5 != '-' && b6 != '-' && b7 != '-' && b8 != '-' && b9 != '-') {
                    document.getElementById('turn').innerHTML = "Game Draw";
                    document.getElementById('play-again-btn').disabled = false;
                    sound5.play();
                }
                //rest condition
                if (b1 != '-') {
                    if (b1 == 'X') x = pl1_name;
                    else x = pl2_name;
                    if (b1 == b2 && b2 == b3) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                    if (b1 == b5 && b5 == b9) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                    if (b1 == b4 && b4 == b7) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                }
                if (b2 != '-') {
                    if (b2 == 'X') x = pl1_name;
                    else x = pl2_name;
                    if (b2 == b5 && b5 == b8) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                }
                if (b3 != '-') {
                    if (b3 == 'X') x = pl1_name;
                    else x = pl2_name;
                    if (b3 == b6 && b3 == b9) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                    if (b3 == b5 && b5 == b7) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                }
                if (b4 != '-') {
                    if (b4 == 'X') x = pl1_name;
                    else x = pl2_name;
                    if (b4 == b5 && b5 == b6) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                }
                if (b7 != '-') {
                    if (b7 == 'X') x = pl1_name;
                    else x = pl2_name;
                    if (b7 == b8 && b8 == b9) {
                        document.getElementById('turn').innerHTML = x + " wins";
                        functionAlert("Congratulations!!!\n" + x + "\nYOU WIN");
                        win();
                    }
                }
            }
            //For alert
            function functionAlert(msg, myYes) {
                var confirmBox = $("#confirm");
                confirmBox.find(".message").text(msg);
                confirmBox.find(".yes").unbind().click(function () {
                    confirmBox.hide();
                });
                confirmBox.find(".yes").click(myYes);
                confirmBox.show();
            }
            //for play again
            function playagain(){
                sound4.play();
                document.getElementById('btn1').disabled = false;
                document.getElementById('btn2').disabled = false;
                document.getElementById('btn3').disabled = false;
                document.getElementById('btn4').disabled = false;
                document.getElementById('btn5').disabled = false;
                document.getElementById('btn6').disabled = false;
                document.getElementById('btn7').disabled = false;
                document.getElementById('btn8').disabled = false;
                document.getElementById('btn9').disabled = false;
                document.getElementById('btn1').innerHTML="-";
                document.getElementById('btn2').innerHTML="-";
                document.getElementById('btn3').innerHTML="-";
                document.getElementById('btn4').innerHTML="-";
                document.getElementById('btn5').innerHTML="-";
                document.getElementById('btn6').innerHTML="-";
                document.getElementById('btn7').innerHTML="-";
                document.getElementById('btn8').innerHTML="-";
                document.getElementById('btn9').innerHTML="-";
                document.getElementById('turn').innerHTML =pl1_name+" its your turn";
                document.getElementById('play-again-btn').disabled = true;
            }

        </script>

    </body>

</html>